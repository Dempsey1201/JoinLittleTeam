<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.javaee.mapper.paper.PaperMapper">
    <resultMap id="Paper" type="com.example.javaee.entity.paper.Paper">
        <id property="qid" column="qid"/>
        <result property="exam_name" column="exam_name"/>
        <result property="share" column="share"/>
        <result property="teacher" column="teacher"/>
        <result property="classno" column="classno"/>
        <result property="start_time" column="start_time"/>
        <result property="end_time" column="end_time"/>
        <result property="last_time" column="last_time"/>
        <result property="full_score" column="full_score"/>
    </resultMap>

    <select id="getAll" resultType="Question">
        select *
        from t_paper
    </select>

    <insert id="insertNewQuestion" parameterType="Question">
        insert into t_paper(exam_name,share,teacher,classno,start_time,end_time,qtype,author,subject)
        values (#{Paper.exam_name},#{Paper.share},#{Paper.teacher},#{Paper.classno},#{Paper.start_time},#{Paper.end_time},#{Paper.last_time},#{Paper.full_score})
    </insert>

    <delete id="deleteQuestion" parameterType="Question">
        delete from t_paper,t_paper_question
        where t_paper.pid = #{pid},t_paper_question.pid = #{pid}
    </delete>

    <update id="updateQuestion" parameterType="Question">
        update t_question
        values (#{Question.question},#{Question.oa},#{Question.ob},#{Question.oc},#{Question.od},#{Question.answer},#{Question.qtype},#{Question.author},#{Question.subject})
        where qid = Question.qid
    </update>

</mapper>